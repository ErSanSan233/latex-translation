%!TEX program = xelatex
\documentclass{standalone}


\usepackage[UTF8]{ctex}
\usepackage{listings}

\begin{document}
\lstnewenvironment{Cbis}{% 
\lstset{language=C,
          basicstyle=\rmfamily\slshape,
          commentstyle=\rmfamily\upshape,}}{}
\begin{Cbis}
/* 用C写成的hello world */
int main()
{
    printf("Hi !\n");
    return 0;
}
\end{Cbis}
\end{document}