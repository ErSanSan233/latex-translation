\chapter*{序}

男人的邪恶胜过女人的善良\jz{
    本书的章首引言来自《旧约》与《新约》，将它们引用在这里纯粹是我一手挑动的——有时，这些句子中带有一些与章标题相关的内容（译注：宗教相关内容按原文直译，不代表译者对任何宗教文献中任何语句的认可或否认。本书未标注“译注”字样的脚注均为原书脚注）。
}。——《便西拉智训\yz{原文如此，但作为《诗歌智慧书》一部分的《便西拉智训》（天主教译为《德勋篇》）似乎属于次经，即在一些教派中不被承认作为《圣经》的一部分出现。 
}》42:14

\section*{从前……}

一切始于1990年年初。我当时正在PC 286计算机上使用称为\textit{WordPerfect}的软件，以此入门人们所谓的“文字处理”。这款软件现在仍然存在，并且由Corel公司维护，运行在日后拥有响当当名头的MS-DOS中。MS-DOS集成了用以粗略预览文档的接口，尤其允许用户“看到代码”，也就是借助一种标记语言将文档可视化，以灵活地控制。

稍晚些时间，随着Windows 3.1迅速风靡，人们突如其来地追求图形界面，我虽然仍情有不甘，却逐渐说服了自己去使用那款在今天很出名的文字处理软件——的2.0版（后面还带个小小的字母，在当时那可真是重大的升级）……但我日后才知道，这个版本有个很有趣的“特性”：文件体积过大，超过了某个特定的值时，会出现保存失败的情况！这时，你既不能保存，也不能恢复文档。有些头铁的朋友尝试先删除几行再保存，但这种撞大运的解决方案并没能成功……

当时，大家毫不掩饰地嘲讽这些“你懂的”公司制作的软件\jz{
    这些被嘲讽的对象中，我们可以看到一些名场面：通用汽车公司老板对比尔·盖茨挑衅性言论的回应（译注：可能是指比尔·盖茨的观点，即如果汽车工业能够像计算机领域一样发展，那么一辆汽车只需要25美元就能买到，并且消耗1加仑汽油就能跑1000英里。作为回应，通用汽车方面罗列了一系列言论来嘲讽，例如“如果那样，那么想要汽车熄火，需要点击开始菜单”），以及罗伯托·迪·科斯莫（Roberto Di Cosmo）的“赛博空间中的陷阱”（piège dans le cyberespace）。
}——这里就不点名了。我周围的大多数人躺平地选择了接受，认为使用这些堂而皇之不给出警告的可悲的跟风之流是正常现象。软件的这种“特性”坚定了我的信念：\textit{我绝不使用这种软件}。当时还在攻读工程师学位的我意识到，我今后的部分工作将会集中在起草文档和使用通用的信息系统上。为此，我需要足够健壮的工具。

我是在让·莫奈大学（Université Jean Monnet）和圣-埃蒂安高等矿业学校（École des Mines de Saint-Étienne）攻读DEA（现在叫master recherche）\jz{
    译注：DEA即diplôme d'études approfondies，法国教育体系下的一种学位。
}时相继接触UNIX和Linux的。那时（1993～1994年），在我刚写论文的开头时，“拉泰克”（latèque）这个词就开始围着我转。这里问题似乎是要找到一款能排出数学公式的软件，而说到撰写理科文档，\LaTeX 似乎显然是避不开的\textit{唯一}答案。说实话，找软件这种问题甚至都根本没出现过！

于是，我着手把这个叫做\LaTeX 的“玩意儿”装在Mac系统（安装的发行版叫Oz\TeX ）和另一个由古登堡（Gutenberg）协会支持的发行版系统——Solaris上。为此，我还得去收买一个系统管理员，让他同意创建一个特权用户\texttt{texadm}，用来管理那个发行版……

1994年年初，我带着坚定的意志使用\LaTeX 开始写论文。在1995年，在被我发现的种种技巧激起的兴趣的巨大感召下，% 此句翻译不好：enthou- siasmé par ce que je découvrais, TODO
我着手为同事和实验室起草用于入门\LaTeX 的指导手册。这个手册就是本书的原型。在1997年，在练习了两年并一只脚踏入了排版领域后，我更坚定了自己的看法：\LaTeX 绝对是写严肃文件的首选软件：它有对版面（mise en page）的全面控制，有对参考文献的管理，支持索引（通用名称和作者名），能轻松操作文件。最重要的是，\textit{排版的结果很好看}。从那时起，这就是支撑我使用\LaTeX 的最强大而无可争辩的理由。

今天，作为国立圣-埃蒂安工程师学院（École Nationale d’ingénieurs de Saint-Étienne）的计算机高级讲师，我用\LaTeX 来起草理科文档和教学材料。几年使用下来，我仍然在学习和发现，也仍然会对项目贡献者提出的各种扩展啧啧称奇。这些扩展使\LaTeX 成为了充满宝藏的巴扎（bazar），成为了一款名副其实地朝着更高工效发展的\jz{
    并不是指那些诸如在菜单中添加一个功能入口、在弹出对话框时添加个提示音的“提效”。
}、始终以“产出优美的工作成果”为目标的卓越而独特的工具。

\section*{本书结构}

本书是针对“使用\LaTeX 进行文字处理”的介绍。它不是一本参考手册，但本书的写作目标是传授读者使用\LaTeX 的基本知识，并在可能情况下，让读者对它感兴趣。读者可以在本书中找到\textit{开始}使用\LaTeX 的必要信息和起草文档的建议。为了提升阅读体验，我们“高明地”将本书分为了若干章节，并配有附录。
本书首先介绍\LaTeX 的基础知识：

% todo

然后有如下附录：

% todo

我们建议您先从第1章一路读到数学部分。其余的章节相对独立，可以根据需要阅读。再强调一遍，我们建议在熟练掌握了基础概念之后再去阅读本书的第II部分。文档最后的索引提供了查询所需内容的快捷入口。最后，正如同其他关于\LaTeX 的答疑解惑的法文资料，我没有费神地将所有\LaTeX 术语和计算机术语逐一翻译。

\section*{你需要知道的知识}

本书适用于初学者阅读，不要求读者有关于\LaTeX 的任何知识。然而，本书读者应当具有基本的、有关操作系统和计算机用户的知识。本书读者最好懂得如何从使用绘图获图片处理软件开始，创建一个封装在其计算机系统中的PostScript文件。

\section*{你不会通过本书学习到的知识}

你正阅读的这本图书在令人称赞的同时也有以下知识面漏洞。

\begin{itemize}
    \item 本书不含有关于\TeX 或\LaTeX 生成字体原理的清晰解释。你不会找到关于“元字体”（METAFONT）一词的知识。
    \item 你不会找到关于在UNIX系统下安装\LaTeX 发布版的知识。
    \item 你不会找到任何现有扩展包的“目录”或清单，无论扩展包是否实用、是否兼容。
    \item 本书回避了“先有鸡还是先有蛋”之类的问题，也避免讨论关于上帝和科学的问题。
    \item ……
\end{itemize}

\begin{exclamation}

不要对本书的内容抱有不切实际的幻想：本书书名着实是个不要脸的谎言。

\end{exclamation}

\section*{\TeX 是什么？}

唐纳德·欧文·克努特（Donald Ervin Knuth）——就是那个有着众多关于数学和算法的著作［包括《计算机程序设计的艺术》（英：\textit{The Art of Computer Programing}）］%todo ref
的数学家——对20世纪70年代的技术条件下打印出来的文章的样子深感失望，产生了开发称为\TeX 的文字处理系统的初步想法。20世纪80年代初次公布的\TeX 是由一个宏处理器（processeur de macro ；英：macro processsor）和几个基元（primitive）组成的复杂系统。第一组预编译的宏很快以\textit{“普通格式”（format plain）}的名义出现。

注意，\TeX 既不是文字处理器［克努特将其称为“typesetting system”，可以翻译成“排字系统”（système de composition）］也不是一种编译后的编程语言。这是克努特关于\TeX 的一些说明\jz{出自\TeX Book的“The Name of the Game”一章。}：

\begin{quote}
    “英文的‘technology’一词由希腊文词根‘$ \tau\epsilon\chi...$’演变而来，这个词根有时也指艺术和科学技术。\TeX 由此而来，正是$ \tau\epsilon\chi$的大写形式。”
\end{quote}

关于\TeX 中“X”的发音：

\begin{quote}
    “……它的发音像德语单词ach中的‘ch’，或西班牙语中的‘j’……如果你对着电脑正确地发音，屏幕上会出现哈气。”
\end{quote}

你家里的家政阿姨可能会更想让你读成“TeK”，从而避免读得像橡胶一样，或者没两天就要擦电脑。\yz{此句原文是“Votre humble serviteur se contente lui de le prononcer « TeK » pour contrecarrer l’aspect caoutchouteux et éviter d’avoir à nettoyer son écran régulièrement.”，实在没看懂是什么意思（尤其是中间出现的lui看不太懂是哪个词的宾语），先大致猜着翻了，请大家赐教。}

最后，对于\TeX 的标识设计，克努特强调字母E需要稍微错位一些，以提示人们这是关于排版的工具。对于确实会遇到的一些无法使字母E稍微错位的情况，他坚持道，需要将\TeX 写成“\texttt{TeX}”。

目前，\TeX 的最新版本号是3.1415926（没错，它收敛于$\pi$）。在\textit{\TeX : the program}一书的前言中，克努特估测上一个程序漏洞已于1985年11月27日发现并改正，并出价20.48美元来悬赏下一个漏洞。今天，这个十六进制的金额停留在327.68美元，如果有人喜欢2的幂，这个数字应该会让他满意……

\section*{\LaTeX 是什么？}

1985年，\TeX 已经传播了一段时间，莱斯利·兰波特（Leslie Lamport）将宏组合起来，创造了一个视野更广的格式，称为\LaTeX ，版本号为2.09。今天，\LaTeX 已经成为了事实标准，只有一些玍古的情况才会只支持\TeX 而不支持\LaTeX 。然而，\LaTeX 有点像\TeX 的“镀层”，提供\TeX 的宏的调用。有时，掌握\TeX 中的部分概念有助于从困难的处境中脱身。兰波特在他的书中这样说[10]：%TODO cf.

\begin{quote}
    “可以将\LaTeX 想象成一幢房子，它的构架和钉子就是由\TeX 提供的。如果你只是在房子中生活，那么你不需要准备钉子、搭建构架，但如果想要为房子新增一个房间，那么你就会需要它们。”
\end{quote}

他还说道：

\begin{quote}
    “\LaTeX 的出名是因为它允许作者从排版工作中抽离，并且专注在写作上。如果你在形式上花费了太多时间，那么你并没有很好地使用\LaTeX 。”
\end{quote}

从1994年至今，一个由欧美成员组成的团队［以弗朗克·米特尔巴赫（Frank Mittelbach）为核心］着手\LaTeX 的开发。1994年发布的\LaTeX 版本称作\LaTeXe。团队的长期目标是孵化一个名为\LaTeX 3的系统。

\section*{使用许可}

画重点：\TeX 和\LaTeX 属于自由软件——也因此是免费的。同时，自由软件（logiciels libres；英：free software）的标志是其\textit{开放性}。因此，\TeX 也可以有其Web源码\jz{克努特孕育的Web语言被形容为一种“文学性的编程语言”。使用Web源码，可以生成程序的Pascal或C代码，也可以为代码生成\TeX 文档。}。\LaTeX 的宏是以\TeX 源码的格式发布的\yz{此句原文：Les macros de \LaTeX \ sont quant à elles distribuées sous forme de code source \TeX .，翻译时没看懂elles指谁，翻译可能有误。我查到macro可以写成macro-instruction，为阴性，故用elles指代这些宏，但不能确定。请读者赐教。}。对于大部分用户来说，获取程序的源码可能不是首要考虑的，但需要知道，正是这种\textit{不隐藏任何内容}的性质，使得人们可以改进现有的扩展、创造新的扩展。

一款软件是自由软件，并不意味着我们可以使用它做任何想做的事情。自由软件属于其作者，所有的改动都需要被记录。同样，每次改动都需要以与具有与改动前不同的文件名体现。这样可以保证系统的严密和便携（关于\LaTeXe 的使用许可，请参阅\wz{ftp://ftp.lip6.fr/pub/TeX/CTAN/macros/latex/base/lppl.txt}）。

\section*{不使用\LaTeX 的5个理由}

在一些情况下，强烈建议不使用\LaTeX 。具体来说，这些不使用\LaTeX 的理由如下。

\begin{enumerate}
    \item 你只将文字处理器用于制作贺卡、写邮件、记录几个想法等用途。
    \item 你十分喜欢鼠标（可能具有1～3个按键），并且认为输入方程的唯一方式就是频繁地使用鼠标点来点去。
    \item 你觉得UNIX是一个“让人头痛”且“不易使用”的系统，或者你对所有的编程语言都有着强烈的反感。
    \item 你认为以下情况是正常的：
        \begin{enumerate}
            \item 新版软件不能读取其旧版本创建的文档；
            \item 要使用新版软件，必须换一个操作系统；
            \item 要使用新版操作系统，必须换一台计算机；
            \item 要使用新计算机，必须……
        \end{enumerate}
    \item 你不知道键盘上的“\backslash”键在哪里。
\end{enumerate}

如果你的情况满足以上任何一条，最好在你现在的系统上知足常乐。

\section*{使用\LaTeX 的若干理由}

说服本书读者使用\TeX 和\LaTeX 而不是其他系统似乎不成问题——毕竟，你都读这本书了，也就已经不知不觉被说服了。让我们看看\TeX 的设计者是怎么说的：

\begin{quote}
    “在使用\TeX 起草文档时，你就是在指挥计算机如何准确地把你的稿件转化为几个页面，以媲美世界上最好的打印机能够实现的排版样式。”——D.E. 克努特，\TeX Book[9]
\end{quote}

\TeX 和\LaTeX 可以生成无与伦比的文档（并可以极细微地调整\jz{
    作为参考，\LaTeX 内置的衡量单位是\textit{比例点（英：scaled point）}，在\TeX Book中记作\texttt{sp}，合$1/65536$点；1点合约$1/72$英寸；1英寸合2.54厘米。比例点可以在大约50埃米的尺度上调整文档。目前打印机的分辨率对于这个尺度来说，实在是太充裕了。
}），这显然归功于以下元素：

\begin{itemize}
    \item 仔细地绘制字体；
    \item 处理排版上的细节，如连接号（tiret）和合字：
    \begin{itemize}
        \item “avez-vous --- bien --- regardé ces tirets (page 19--23) ”这句文字中的各种连接号；
        \item fin一词中的“f\/i”、souffle一词中的“f\/f\/l”，以及trèfle一词中的“f\/l”；
    \end{itemize}
    \item 性能良好的断字算法；
    \item 专门针对数学公式的呈现。
\end{itemize}

此外，\LaTeX 是少数瞄准\textit{科技}文档的文字处理软件。这是因为，除了处理方程和公式之外外，\LaTeX 还有大量围绕起草\textit{文章}、生成\textit{参考文献}和\textit{索引}的功能。

最后，\LaTeX 尤其针对大文件的生成做了适配。这不仅是由于处理\LaTeX 文档本身占用的内存空间极小，也是因为\textit{宏}和\textit{交叉引用（référence croisée；英：cross reference）}可以让我们对文件有着全面而灵活的控制。

\paragraph*{交叉引用}\LaTeX 允许\textit{以符号的形式}于文档的任何位置引用有编号的对象。此外，标题、图片、表格、方程、参考文献、列表、定理等的序号都可以在文章的多个位置以简单的方式引用，不需要我们去关心具体的号码本身是多少。

\paragraph*{宏}宏无疑是\LaTeX 最强大的功能。